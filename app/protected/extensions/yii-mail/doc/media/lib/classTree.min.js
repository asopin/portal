var webFXTreeConfig={rootIcon:"media/images/Class.gif",openRootIcon:"media/images/Class.gif",folderIcon:"media/images/Class.gif",openFolderIcon:"media/images/Class.gif",fileIcon:"media/images/Class.gif",iIcon:"media/images/I.png",lIcon:"media/images/L.png",lMinusIcon:"media/images/Lminus.png",lPlusIcon:"media/images/Lplus.png",tIcon:"media/images/T.png",tMinusIcon:"media/images/Tminus.png",tPlusIcon:"media/images/Tplus.png",blankIcon:"media/images/blank.png",defaultText:"Tree Item",defaultAction:"javascript:void(0);",defaultTarget:"right",defaultBehavior:"classic"};var webFXTreeHandler={idCounter:0,idPrefix:"webfx-tree-object-",all:{},behavior:null,selected:null,getId:function(){return this.idPrefix+this.idCounter++},toggle:function(a){this.all[a.id.replace("-plus","")].toggle()},select:function(a){this.all[a.id.replace("-icon","")].select()},focus:function(a){this.all[a.id.replace("-anchor","")].focus()},blur:function(a){this.all[a.id.replace("-anchor","")].blur()},keydown:function(a){return this.all[a.id].keydown(window.event.keyCode)},cookies:new WebFXCookie()};function WebFXCookie(){if(document.cookie.length){this.cookies=" "+document.cookie}}WebFXCookie.prototype.setCookie=function(a,b){document.cookie=a+"="+escape(b)};WebFXCookie.prototype.getCookie=function(c){if(this.cookies){var d=this.cookies.indexOf(" "+c+"=");if(d==-1){return null}var a=this.cookies.indexOf(";",d);if(a==-1){a=this.cookies.length}a-=d;var b=this.cookies.substr(d,a);return unescape(b.substr(b.indexOf("=")+1,b.length-b.indexOf("=")+1))}else{return null}};function WebFXTreeAbstractNode(c,a,b){this.childNodes=[];this.id=webFXTreeHandler.getId();this.text=c||webFXTreeConfig.defaultText;this.action=a||webFXTreeConfig.defaultAction;this.targetWindow=b||webFXTreeConfig.defaultTarget;this._last=false;webFXTreeHandler.all[this.id]=this}WebFXTreeAbstractNode.prototype.add=function(c){c.parentNode=this;this.childNodes[this.childNodes.length]=c;var a=this;if(this.childNodes.length>=2){this.childNodes[this.childNodes.length-2]._last=false}while(a.parentNode){a=a.parentNode}if(a.rendered){if(this.childNodes.length>=2){document.getElementById(this.childNodes[this.childNodes.length-2].id+"-plus").src=((this.childNodes[this.childNodes.length-2].folder)?webFXTreeConfig.tMinusIcon:webFXTreeConfig.tIcon);if(this.childNodes[this.childNodes.length-2].folder){this.childNodes[this.childNodes.length-2].plusIcon=webFXTreeConfig.tPlusIcon;this.childNodes[this.childNodes.length-2].minusIcon=webFXTreeConfig.tMinusIcon}this.childNodes[this.childNodes.length-2]._last=false}this._last=true;var d=this;while(d.parentNode){for(var b=0;b<d.parentNode.childNodes.length;b++){if(d.id==d.parentNode.childNodes[b].id){break}}if(++b==d.parentNode.childNodes.length){d.parentNode._last=true}else{d.parentNode._last=false}d=d.parentNode}document.getElementById(this.id+"-cont").insertAdjacentHTML("beforeEnd",c.toString());if((!this.folder)&&(!this.openIcon)){this.icon=webFXTreeConfig.folderIcon;this.openIcon=webFXTreeConfig.openFolderIcon}this.folder=true;this.indent();this.expand()}return c};WebFXTreeAbstractNode.prototype.toggle=function(){if(this.folder){if(this.open){this.collapse()}else{this.expand()}}};WebFXTreeAbstractNode.prototype.select=function(){document.getElementById(this.id+"-anchor").focus()};WebFXTreeAbstractNode.prototype.focus=function(){webFXTreeHandler.selected=this;if((this.openIcon)&&(webFXTreeHandler.behavior!="classic")){document.getElementById(this.id+"-icon").src=this.openIcon}document.getElementById(this.id+"-anchor").style.backgroundColor="highlight";document.getElementById(this.id+"-anchor").style.color="highlighttext";document.getElementById(this.id+"-anchor").focus()};WebFXTreeAbstractNode.prototype.blur=function(){if((this.openIcon)&&(webFXTreeHandler.behavior!="classic")){document.getElementById(this.id+"-icon").src=this.icon}document.getElementById(this.id+"-anchor").style.backgroundColor="transparent";document.getElementById(this.id+"-anchor").style.color="menutext"};WebFXTreeAbstractNode.prototype.doExpand=function(){if(webFXTreeHandler.behavior=="classic"){document.getElementById(this.id+"-icon").src=this.openIcon}if(this.childNodes.length){document.getElementById(this.id+"-cont").style.display="block"}this.open=true;webFXTreeHandler.cookies.setCookie(this.id.substr(18,this.id.length-18),"1")};WebFXTreeAbstractNode.prototype.doCollapse=function(){if(webFXTreeHandler.behavior=="classic"){document.getElementById(this.id+"-icon").src=this.icon}if(this.childNodes.length){document.getElementById(this.id+"-cont").style.display="none"}this.open=false;webFXTreeHandler.cookies.setCookie(this.id.substr(18,this.id.length-18),"0")};WebFXTreeAbstractNode.prototype.expandAll=function(){this.expandChildren();if((this.folder)&&(!this.open)){this.expand()}};WebFXTreeAbstractNode.prototype.expandChildren=function(){for(var a=0;a<this.childNodes.length;a++){this.childNodes[a].expandAll()}};WebFXTreeAbstractNode.prototype.collapseAll=function(){if((this.folder)&&(this.open)){this.collapse()}this.collapseChildren()};WebFXTreeAbstractNode.prototype.collapseChildren=function(){for(var a=0;a<this.childNodes.length;a++){this.childNodes[a].collapseAll()}};WebFXTreeAbstractNode.prototype.indent=function(b,a,d,g){if(b==null){b=-2}var e=0;for(var c=this.childNodes.length-1;c>=0;c--){e=this.childNodes[c].indent(b+1,a,d,g);if(e){return}}if(a){if(g>=this._level){if(this.folder){document.getElementById(this.id+"-plus").src=(this.open)?webFXTreeConfig.lMinusIcon:webFXTreeConfig.lPlusIcon;this.plusIcon=webFXTreeConfig.lPlusIcon;this.minusIcon=webFXTreeConfig.lMinusIcon}else{document.getElementById(this.id+"-plus").src=webFXTreeConfig.lIcon}return 1}}var f=document.getElementById(this.id+"-indent-"+b);if(f){if((a)&&(d)){f._last=true}if(f._last){f.src=webFXTreeConfig.blankIcon}else{f.src=webFXTreeConfig.iIcon}}return 0};function WebFXTree(c,a,d,e,b){this.base=WebFXTreeAbstractNode;this.base(c,a);this.icon=e||webFXTreeConfig.rootIcon;this.openIcon=b||webFXTreeConfig.openRootIcon;this.open=(webFXTreeHandler.cookies.getCookie(this.id.substr(18,this.id.length-18))=="0")?false:true;this.folder=true;this.rendered=false;if(!webFXTreeHandler.behavior){webFXTreeHandler.behavior=d||webFXTreeConfig.defaultBehavior}this.targetWindow="right"}WebFXTree.prototype=new WebFXTreeAbstractNode;WebFXTree.prototype.setBehavior=function(a){webFXTreeHandler.behavior=a};WebFXTree.prototype.getBehavior=function(a){return webFXTreeHandler.behavior};WebFXTree.prototype.getSelected=function(){if(webFXTreeHandler.selected){return webFXTreeHandler.selected}else{return null}};WebFXTree.prototype.remove=function(){};WebFXTree.prototype.expand=function(){this.doExpand()};WebFXTree.prototype.collapse=function(){this.focus();this.doCollapse()};WebFXTree.prototype.getFirst=function(){return null};WebFXTree.prototype.getLast=function(){return null};WebFXTree.prototype.getNextSibling=function(){return null};WebFXTree.prototype.getPreviousSibling=function(){return null};WebFXTree.prototype.keydown=function(a){if(a==39){this.expand();return false}if(a==37){this.collapse();return false}if((a==40)&&(this.open)){this.childNodes[0].select();return false}return true};WebFXTree.prototype.toString=function(){var b='<div id="'+this.id+'" ondblclick="webFXTreeHandler.toggle(this);" class="webfx-tree-item" onkeydown="return webFXTreeHandler.keydown(this)">';b+='<img id="'+this.id+'-icon" class="webfx-tree-icon" src="'+((webFXTreeHandler.behavior=="classic"&&this.open)?this.openIcon:this.icon)+'" onclick="webFXTreeHandler.select(this);"><a href="'+this.action+'" id="'+this.id+'-anchor" target="'+this.targetWindow+'" onfocus="webFXTreeHandler.focus(this);" onblur="webFXTreeHandler.blur(this);">'+this.text+"</a></div>";b+='<div id="'+this.id+'-cont" class="webfx-tree-container" style="display: '+((this.open)?"block":"none")+';">';for(var a=0;a<this.childNodes.length;a++){b+=this.childNodes[a].toString(a,this.childNodes.length)}b+="</div>";this.rendered=true;return b};function WebFXTreeItem(d,a,c,e,b){this.base=WebFXTreeAbstractNode;this.base(d,a);this.open=(webFXTreeHandler.cookies.getCookie(this.id.substr(18,this.id.length-18))=="1")?true:false;if(c){c.add(this)}if(e){this.icon=e}if(b){this.openIcon=b}}WebFXTreeItem.prototype=new WebFXTreeAbstractNode;WebFXTreeItem.prototype.remove=function(){var a=this.parentNode;var b=this.getPreviousSibling(true);var e=this.getNextSibling(true);var d=this.parentNode.folder;var c=((e)&&(e.parentNode)&&(e.parentNode.id==a.id))?false:true;this.getPreviousSibling().focus();this._remove();if(a.childNodes.length==0){a.folder=false;a.open=false}if(c){if(a.id==b.id){document.getElementById(a.id+"-icon").src=webFXTreeConfig.fileIcon}else{}}if((!b.parentNode)||(b.parentNode!=a)){a.indent(null,true,c,this._level)}if(document.getElementById(b.id+"-plus")){if(e){if((a==b)&&(a.getNextSibling)){document.getElementById(b.id+"-plus").src=webFXTreeConfig.tIcon}else{if(e.parentNode!=b){document.getElementById(b.id+"-plus").src=webFXTreeConfig.lIcon}}}else{document.getElementById(b.id+"-plus").src=webFXTreeConfig.lIcon}}};WebFXTreeItem.prototype._remove=function(){for(var b=this.childNodes.length-1;b>=0;b--){this.childNodes[b]._remove()}for(var b=0;b<this.parentNode.childNodes.length;b++){if(this.id==this.parentNode.childNodes[b].id){for(var a=b;a<this.parentNode.childNodes.length;a++){this.parentNode.childNodes[b]=this.parentNode.childNodes[b+1]}this.parentNode.childNodes.length=this.parentNode.childNodes.length-1;if(b+1==this.parentNode.childNodes.length){this.parentNode._last=true}}}webFXTreeHandler.all[this.id]=null;if(document.getElementById(this.id)){document.getElementById(this.id).innerHTML="";document.getElementById(this.id).removeNode()}};WebFXTreeItem.prototype.expand=function(){this.doExpand();document.getElementById(this.id+"-plus").src=this.minusIcon};WebFXTreeItem.prototype.collapse=function(){this.focus();this.doCollapse();document.getElementById(this.id+"-plus").src=this.plusIcon};WebFXTreeItem.prototype.getFirst=function(){return this.childNodes[0]};WebFXTreeItem.prototype.getLast=function(){if(this.childNodes[this.childNodes.length-1].open){return this.childNodes[this.childNodes.length-1].getLast()}else{return this.childNodes[this.childNodes.length-1]}};WebFXTreeItem.prototype.getNextSibling=function(){for(var a=0;a<this.parentNode.childNodes.length;a++){if(this==this.parentNode.childNodes[a]){break}}if(++a==this.parentNode.childNodes.length){return this.parentNode.getNextSibling()}else{return this.parentNode.childNodes[a]}};WebFXTreeItem.prototype.getPreviousSibling=function(a){for(var c=0;c<this.parentNode.childNodes.length;c++){if(this==this.parentNode.childNodes[c]){break}}if(c==0){return this.parentNode}else{if((this.parentNode.childNodes[--c].open)||(a&&this.parentNode.childNodes[c].folder)){return this.parentNode.childNodes[c].getLast()}else{return this.parentNode.childNodes[c]}}};WebFXTreeItem.prototype.keydown=function(b){if((b==39)&&(this.folder)){if(!this.open){this.expand();return false}else{this.getFirst().select();return false}}else{if(b==37){if(this.open){this.collapse();return false}else{this.parentNode.select();return false}}else{if(b==40){if(this.open){this.getFirst().select();return false}else{var a=this.getNextSibling();if(a){a.select();return false}}}else{if(b==38){this.getPreviousSibling().select();return false}}}}return true};WebFXTreeItem.prototype.toString=function(c,g){var f=this.parentNode;var a="";if(c+1==g){this.parentNode._last=true}var d=0;while(f.parentNode){f=f.parentNode;a='<img id="'+this.id+"-indent-"+d+'" src="'+((f._last)?webFXTreeConfig.blankIcon:webFXTreeConfig.iIcon)+'">'+a;d++}this._level=d;if(this.childNodes.length){this.folder=1}else{this.open=false}if((this.folder)||(webFXTreeHandler.behavior!="classic")){if(!this.icon){this.icon=webFXTreeConfig.folderIcon}if(!this.openIcon){this.openIcon=webFXTreeConfig.openFolderIcon}}else{if(!this.icon){this.icon=webFXTreeConfig.fileIcon}}var b=this.text;b=b.replace("<","<");b=b.replace(">",">");var e='<div id="'+this.id+'" ondblclick="webFXTreeHandler.toggle(this);" class="webfx-tree-item" onkeydown="return webFXTreeHandler.keydown(this)">';e+=a;e+='<img id="'+this.id+'-plus" src="'+((this.folder)?((this.open)?((this.parentNode._last)?webFXTreeConfig.lMinusIcon:webFXTreeConfig.tMinusIcon):((this.parentNode._last)?webFXTreeConfig.lPlusIcon:webFXTreeConfig.tPlusIcon)):((this.parentNode._last)?webFXTreeConfig.lIcon:webFXTreeConfig.tIcon))+'" onclick="webFXTreeHandler.toggle(this);">';e+='<img id="'+this.id+'-icon" src="'+((webFXTreeHandler.behavior=="classic"&&this.open)?this.openIcon:this.icon)+'" onclick="webFXTreeHandler.select(this);"><a href="'+this.action+'" id="'+this.id+'-anchor" target="'+this.targetWindow+'" onfocus="webFXTreeHandler.focus(this);" onblur="webFXTreeHandler.blur(this);">'+b+"</a></div>";e+='<div id="'+this.id+'-cont" class="webfx-tree-container" style="display: '+((this.open)?"block":"none")+';">';for(var d=0;d<this.childNodes.length;d++){e+=this.childNodes[d].toString(d,this.childNodes.length)}e+="</div>";this.plusIcon=((this.parentNode._last)?webFXTreeConfig.lPlusIcon:webFXTreeConfig.tPlusIcon);this.minusIcon=((this.parentNode._last)?webFXTreeConfig.lMinusIcon:webFXTreeConfig.tMinusIcon);return e};